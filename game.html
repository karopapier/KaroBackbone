<!DOCTYPE html>
<html>
    <head>
        <title>Karopapier 2.1</title>
        <script type="text/javascript" src="js/libs/jquery-1.11.0.min.js"></script>
        <script type="text/javascript" src="js/libs/jquery-ui-1.10.4.custom.min.js"></script>
        <script type="text/javascript" src="js/libs/underscore-min.js"></script>
        <script type="text/javascript" src="js/libs/backbone-min.js"></script>
        <script type="text/javascript" src="js/libs/backbone.marionette.min.js"></script>
        <script type="text/javascript" src="js/libs/backbone-model-factory-min.js"></script>
        <script type="text/javascript" src="js/libs/moment.min.js"></script>
        <!--<script type="text/javascript" src="js/libs/hammer.min.js"></script> -->
        <!--<script type="text/javascript" src="js/libs/Sideslide.js"></script> -->
        <!--<script type="text/javascript" src="js/libs/touch-emulator.js"></script>
        <script> TouchEmulator(); </script> -->

        <script type="text/javascript" src="js/libs/TURTED.js"></script>
        <script type="text/javascript" src="js/libs/sockjs-0.3.min.js"></script>

        <script type="text/javascript">
            var Karopapier = new Marionette.Application(); // currently only for Util.js to not throw an error
        </script>

        <script type="text/javascript" src="js/templates/JST.js"></script>
        <script type="text/javascript" src="js/KaroBackbone.min.js"></script>

        <link id="favicon" rel="shortcut icon" href="favicon.ico" />

        <link rel="stylesheet" href="css/main.css" />
        <link rel="stylesheet" href="css/global.css" />
        <link rel="stylesheet" href="css/game.css" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
        <meta charset="utf-8" />
    </head>
    <BODY BACKGROUND="/images/karolight.gif" BGCOLOR=#FFFFFF TEXT=#333399 LINK=#3333FF VLINK=#3333EE ALINK=#0000FF>
        <script type="text/javascript" src="http://www.karopapier.de/js/jquery.tablesorter.min.js"></script>
        <script type="text/javascript" src="http://www.karopapier.de/js/starvote.js"></script>
        <script type="text/javascript" src="http://www.karopapier.de/js/libs/json2.min.js"></script>
        <script type="text/javascript" src="http://www.karopapier.de/js/libs/store.min.js"></script>
        <script type="text/javascript" src="http://www.karopapier.de/js/libs/lz-string.min.js"></script>
        <style type="text/css">
            .grass {
                fill: rgb(0, 200, 0);
            }

            .road {
                fill: rgb(128, 128, 128);
            }

            .start {
                fill: url(#startPattern)
            }

            .finish {
                fill: url(#finishPattern)
            }

            .mud {
                fill: rgb(100, 70, 0);
            }

            .sand {
                fill: rgb(230, 230, 115);
            }

            .water {
                fill: blue;
            }

            .earth {
                fill: brown;
            }

            .night {
                fill: black;
            }

            .parc {
                fill: rgb(200, 200, 200);
            }

            .cp1color {
                fill: rgb(0, 102, 255);
            }

            .cp2color {
                fill: rgb(0, 100, 200);
            }

            .cp3color {
                fill: rgb(0, 255, 102);
            }

            .cp4color {
                fill: rgb(0, 200, 0);
            }

            .cp5color {
                fill: rgb(255, 255, 0);
            }

            .cp6color {
                fill: rgb(200, 200, 0);
            }

            .cp7color {
                fill: rgb(255, 0, 0);
            }

            .cp8color {
                fill: rgb(200, 0, 0);
            }

            .cp9color {
                fill: rgb(255, 0, 255);
            }

            .cp1 {
                fill: url(#cp1pattern);
            }

            .cp2 {
                fill: url(#cp2pattern);
            }

            .cp3 {
                fill: url(#cp3pattern);
            }

            .cp4 {
                fill: url(#cp4pattern);
            }

            .cp5 {
                fill: url(#cp5pattern);
            }

            .cp6 {
                fill: url(#cp6pattern);
            }

            .cp7 {
                fill: url(#cp7pattern);
            }

            .cp8 {
                fill: url(#cp8pattern);
            }

            .cp9 {
                fill: url(#cp9pattern);
            }

            .primaryColor {
                fill: rgb(0, 255, 102);
            }
        </style>

        <style type="text/css">
            th.header {
                background-image: url(http://www.karopapier.de/images/bg.gif);
                background-repeat: no-repeat;
                background-position: center right;
            }

            th.headerSortUp {
                background-image: url(http://www.karopapier.de/images/asc.gif);
                background-repeat: no-repeat;
                background-position: center right;
            }

            th.headerSortDown {
                background-image: url(http://www.karopapier.de/images/desc.gif);
                background-repeat: no-repeat;
                background-position: center right;
            }
        </style>


        <script type="text/javascript">
            function chatlog() {
                var chatfenster = window.open("chat.php?GID=$GID", "Fenster1", "width=800,height=500,left=100,top=100,scrollbars=yes,resizable=yes");
            }
        </script>


        <table border=0 width=100%>
            <tr>
                <td>
                    <h1 id="gameTitle" style="text-shadow: 2px 2px 0px rgba(100,100,200,0.5)">Schwippschwadron</h1>

                </td>
                <td>
                    <div style="float: left;" id="mapvotecontainer">
                        <b>Kartenbewertung</b>

                        <div class="mapvote" id="mapvote"></div>
                    </div>
                    <div id=gameInfoOrig style="float: left">
                        <B>Spielinfos:</B>
                        <ul>
                            <li>Game ID: 78483</li>
                            <li>Karte: 96 - &quot;Wheel&quot; von Madeleine
                            <li>Richtungsmodus <B>klassisch</B>, erst weg vom Ziel</li>
                            <li>ZZZ steht auf 1.</li>
                            <li>Checkpoints sind aktiviert
                            <li>Taktisches Crashen ist <B>nicht erlaubt</B></li>
                        </ul>
                        &Uuml;brigens wurde das Spiel am 06.09.2013 um 22:46 von Madeleine gestartet
                    </div>
                    <div id=gameInfo style="float: left">asdf</div>
                    <div class="clearer"></div>
                </td>
            </tr>
        </table>

        <div style="position:absolute;right:0;top:0; font-size: 8pt">Experiment:<br />
            <img src="/images/loading.gif" id="pinstatus" style="height: 30px" /><br />
            Details <a href="http://www.karopapier.de/showthread.php?forumid=1&thread=960">hier</a></div>


        <div id=mapImage style="width:1380px; height: 1380px; position: relative;">
            <svg id="mapSvgView" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xmlns="http://www.w3.org/2000/svg">
                <defs id="defs">
                    <pattern y="0" x="0" height="12" width="12" patternUnits="userSpaceOnUse" id="grid">
                        <line stroke-width="1" stroke="black" y2="12" x2="12" y1="0" x1="12"></line>
                        <line stroke-width="1" stroke="black" y2="12" x2="12" y1="12" x1="0"></line>
                    </pattern>
                    <pattern y="0" x="0" height="12" width="12" patternUnits="userSpaceOnUse" id="finishPattern">
                        <rect fill="black" height="12" width="12" y="0" x="0"></rect>
                        <path fill="white" d="M0,0L3,0L3,3L0,3L0,0M6,0L9,0L9,3L6,3L6,0M3,3L6,3L6,6L3,6L3,3M9,3L12,3L12,6L9,6L9,3"></path>
                        <path fill="white" d="M0,6L3,6L3,9L0,9L0,6M6,6L9,6L9,9L6,9L6,6M3,9L6,9L6,12L3,12L3,9M9,9L12,9L12,12L9,12L9,9"></path>
                    </pattern>
                    <pattern y="0" x="0" height="12" width="12" patternUnits="userSpaceOnUse" id="startPattern">
                        <rect fill="rgb(100,100,100)" height="12" width="12" y="0" x="0"></rect>
                        <rect stroke-width="1" stroke="rgb(200,200,200)" fill="none" height="5" width="5" y="3.5" x="3.5"></rect>
                        &gt; </pattern>
                    <pattern y="0" x="0" height="12" width="12" patternUnits="userSpaceOnUse" id="cp1pattern">
                        <rect class="cp1color" height="12" width="12" y="0" x="0"></rect>
                        <path fill="black" d="M0,0L3,0L3,3L0,3L0,0M6,0L9,0L9,3L6,3L6,0M3,3L6,3L6,6L3,6L3,3M9,3L12,3L12,6L9,6L9,3"></path>
                        <path fill="black" d="M0,6L3,6L3,9L0,9L0,6M6,6L9,6L9,9L6,9L6,6M3,9L6,9L6,12L3,12L3,9M9,9L12,9L12,12L9,12L9,9"></path>
                    </pattern>
                    <pattern y="0" x="0" height="12" width="12" patternUnits="userSpaceOnUse" id="cp2pattern">
                        <rect class="cp2color" height="12" width="12" y="0" x="0"></rect>
                        <path fill="white" d="M0,0L3,0L3,3L0,3L0,0M6,0L9,0L9,3L6,3L6,0M3,3L6,3L6,6L3,6L3,3M9,3L12,3L12,6L9,6L9,3"></path>
                        <path fill="white" d="M0,6L3,6L3,9L0,9L0,6M6,6L9,6L9,9L6,9L6,6M3,9L6,9L6,12L3,12L3,9M9,9L12,9L12,12L9,12L9,9"></path>
                    </pattern>
                    <pattern y="0" x="0" height="12" width="12" patternUnits="userSpaceOnUse" id="cp3pattern">
                        <rect class="cp3color" height="12" width="12" y="0" x="0"></rect>
                        <path fill="black" d="M0,0L3,0L3,3L0,3L0,0M6,0L9,0L9,3L6,3L6,0M3,3L6,3L6,6L3,6L3,3M9,3L12,3L12,6L9,6L9,3"></path>
                        <path fill="black" d="M0,6L3,6L3,9L0,9L0,6M6,6L9,6L9,9L6,9L6,6M3,9L6,9L6,12L3,12L3,9M9,9L12,9L12,12L9,12L9,9"></path>
                    </pattern>
                    <pattern y="0" x="0" height="12" width="12" patternUnits="userSpaceOnUse" id="cp4pattern">
                        <rect class="cp4color" height="12" width="12" y="0" x="0"></rect>
                        <path fill="white" d="M0,0L3,0L3,3L0,3L0,0M6,0L9,0L9,3L6,3L6,0M3,3L6,3L6,6L3,6L3,3M9,3L12,3L12,6L9,6L9,3"></path>
                        <path fill="white" d="M0,6L3,6L3,9L0,9L0,6M6,6L9,6L9,9L6,9L6,6M3,9L6,9L6,12L3,12L3,9M9,9L12,9L12,12L9,12L9,9"></path>
                    </pattern>
                    <pattern y="0" x="0" height="12" width="12" patternUnits="userSpaceOnUse" id="cp5pattern">
                        <rect class="cp5color" height="12" width="12" y="0" x="0"></rect>
                        <path fill="black" d="M0,0L3,0L3,3L0,3L0,0M6,0L9,0L9,3L6,3L6,0M3,3L6,3L6,6L3,6L3,3M9,3L12,3L12,6L9,6L9,3"></path>
                        <path fill="black" d="M0,6L3,6L3,9L0,9L0,6M6,6L9,6L9,9L6,9L6,6M3,9L6,9L6,12L3,12L3,9M9,9L12,9L12,12L9,12L9,9"></path>
                    </pattern>
                    <pattern y="0" x="0" height="12" width="12" patternUnits="userSpaceOnUse" id="cp6pattern">
                        <rect class="cp6color" height="12" width="12" y="0" x="0"></rect>
                        <path fill="white" d="M0,0L3,0L3,3L0,3L0,0M6,0L9,0L9,3L6,3L6,0M3,3L6,3L6,6L3,6L3,3M9,3L12,3L12,6L9,6L9,3"></path>
                        <path fill="white" d="M0,6L3,6L3,9L0,9L0,6M6,6L9,6L9,9L6,9L6,6M3,9L6,9L6,12L3,12L3,9M9,9L12,9L12,12L9,12L9,9"></path>
                    </pattern>
                    <pattern y="0" x="0" height="12" width="12" patternUnits="userSpaceOnUse" id="cp7pattern">
                        <rect class="cp7color" height="12" width="12" y="0" x="0"></rect>
                        <path fill="black" d="M0,0L3,0L3,3L0,3L0,0M6,0L9,0L9,3L6,3L6,0M3,3L6,3L6,6L3,6L3,3M9,3L12,3L12,6L9,6L9,3"></path>
                        <path fill="black" d="M0,6L3,6L3,9L0,9L0,6M6,6L9,6L9,9L6,9L6,6M3,9L6,9L6,12L3,12L3,9M9,9L12,9L12,12L9,12L9,9"></path>
                    </pattern>
                    <pattern y="0" x="0" height="12" width="12" patternUnits="userSpaceOnUse" id="cp8pattern">
                        <rect class="cp8color" height="12" width="12" y="0" x="0"></rect>
                        <path fill="white" d="M0,0L3,0L3,3L0,3L0,0M6,0L9,0L9,3L6,3L6,0M3,3L6,3L6,6L3,6L3,3M9,3L12,3L12,6L9,6L9,3"></path>
                        <path fill="white" d="M0,6L3,6L3,9L0,9L0,6M6,6L9,6L9,9L6,9L6,6M3,9L6,9L6,12L3,12L3,9M9,9L12,9L12,12L9,12L9,9"></path>
                    </pattern>
                    <pattern y="0" x="0" height="12" width="12" patternUnits="userSpaceOnUse" id="cp9pattern">
                        <rect class="cp9color" height="12" width="12" y="0" x="0"></rect>
                        <path fill="black" d="M0,0L3,0L3,3L0,3L0,0M6,0L9,0L9,3L6,3L6,0M3,3L6,3L6,6L3,6L3,3M9,3L12,3L12,6L9,6L9,3"></path>
                        <path fill="black" d="M0,6L3,6L3,9L0,9L0,6M6,6L9,6L9,9L6,9L6,6M3,9L6,9L6,12L3,12L3,9M9,9L12,9L12,12L9,12L9,9"></path>
                    </pattern>
                </defs>
                <g id="map"></g>
                <rect opacity=".2" fill="url(#grid)" height="100%" width="100%" y="0" x="0"></rect>
            </svg>
            <IMG id=fgImg SRC=http://www.karopapier.de/imgenerateFG.php?GID=78483&pixel=11&karoborder=1&limit=2 usemap="#moves" BORDER=0 style="position: absolute; top:0; left:0; z-index:4">
        </div>
        <div class="clearer"></div>

        Mitfahrer-Z&uuml;ge anzeigen: <a href="#" data-limit="0" class="drawLimiter">&nbsp;Alle&nbsp;</a>,
        <a href="#" data-limit="2" class="drawLimiter">&nbsp;2&nbsp;</a>,
        <a href="#" data-limit="5" class="drawLimiter">&nbsp;5&nbsp;</a>,
        <a href="#" data-limit="10" class="drawLimiter">&nbsp;10&nbsp;</a>
        - Dauerhafte &Auml;nderung <a href="/karte.php">hier</a>
        <br />
        <BR>

        Du bist dran, bitte mach Deinen Zug<BR>

        <form id="moveMsgForm">
            Didi:
            <input type="text" id="movemessage" size="80" maxlenght="255">
            <span id="movemessageDisplay" style="display: none"></span>
            <input type="submit" value="Nachricht mitschicken">
        </form>

        <script type="text/javascript">
            $('#moveMsgForm').submit(function (e) {
                var moveMsg = $('#movemessage').val();
                var w = $('#movemessage').width();
                if (moveMsg !== "") {
                    $('#movemessageDisplay').text(moveMsg).css({"display": "inline-block", "width": w});
                    $('#movemessage').hide();
                }
                e.preventDefault();
            });
            $('#movemessage').click(function () {
            });
        </script>

        <BR>

        <div id="moveMessagesView">
            <b>Bordfunk</b><br />
            <div id="moveMessages">
                <small>MrMM (14.10.2014): &quot;<i>Ich bin ausgestiegen</i>&quot;</small>
                <BR>
                <small>Stickerle (18.02.2014): &quot;<i>Ich werde 1 Z&uuml;ge zur&uuml;ckgesetzt</i>&quot;</small>
                <BR>
                <small>Stickerle (18.11.2013): &quot;<i>Ich werde 1 Z&uuml;ge zur&uuml;ckgesetzt</i>&quot;</small>
            </div>
        </div>
        <br />

        <TABLE BORDER=1 id="tabspielinfo">
            <thead>
                <TR>
                    <TH style="min-width: 80px">Farbe</TH>
                    <TH style="min-width:100px">Spieler</TH>
                    <TH>Z&uuml;ge</TH>
                    <TH>Runde</TH>

                    <TH>Checkpoints</TH>
                    <TH>Letzter Zug</TH>
                    <TH>Bedenkzeit</TH>
                    <TD>Kick</TD>
                    <TD>BE!</TD>
                </TR>
            </thead>
            <tbody>
                <TR>
                    <TD BGCOLOR=#ffea00>&nbsp</TD>
                    <TD>aristarch</TD>
                    <TD ALIGN=CENTER>46</TD>
                    <TD>&nbsp;<FONT COLOR=#00CC00>kommt noch</FONT></TD>
                    <TD ALIGN=CENTER>1/8</TD>
                    <TD>2015-01-09 23:48:37</TD>
                    <TD>2 Tage, 10:36:33</TD>
                    <TD><A HREF=kickplayer.php?GID=78483&UID=2231>Kicken</A></TD>
                    <TD><A HREF=beplayer.php?GID=78483&UID=2231>BE!</A></TD>
                </TR>
                <TR>
                    <TD BGCOLOR=#ffffff>&nbsp</TD>
                    <TD>Didi</TD>
                    <TD ALIGN=CENTER>46</TD>
                    <TD>&nbsp;<B>dran</B></TD>
                    <TD ALIGN=CENTER>1/8</TD>
                    <TD>2015-01-09 20:46:48</TD>
                    <TD>151 Tage, 16:38:54</TD>
                    <TD><A HREF=kickplayer.php?GID=78483&UID=1>Kicken</A></TD>
                    <TD><A HREF=beplayer.php?GID=78483&UID=1>BE!</A></TD>
                </TR>
                <TR>
                    <TD BGCOLOR=#FF0000>&nbsp</TD>
                    <TD>hasi</TD>
                    <TD ALIGN=CENTER>47</TD>
                    <TD>&nbsp;<FONT COLOR=#CC0000>war schon</FONT></TD>
                    <TD ALIGN=CENTER>1/8</TD>
                    <TD>2015-01-13 11:48:07</TD>
                    <TD>19 Tage, 04:03:10</TD>
                    <TD><A HREF=kickplayer.php?GID=78483&UID=2226>Kicken</A></TD>
                    <TD><A HREF=beplayer.php?GID=78483&UID=2226>BE!</A></TD>
                </TR>
                <TR>
                    <TD BGCOLOR=#CCFF00>&nbsp</TD>
                    <TD>JokerHF</TD>
                    <TD ALIGN=CENTER>47</TD>
                    <TD>&nbsp;<FONT COLOR=#CC0000>war schon</FONT></TD>
                    <TD ALIGN=CENTER>1/8</TD>
                    <TD>2015-01-13 23:05:49</TD>
                    <TD>6 Tage, 09:02:25</TD>
                    <TD><A HREF=kickplayer.php?GID=78483&UID=2492>Kicken</A></TD>
                    <TD><A HREF=beplayer.php?GID=78483&UID=2492>BE!</A></TD>
                </TR>
                <TR>
                    <TD BGCOLOR=#F0F0F0>&nbsp</TD>
                    <TD>kili</TD>
                    <TD ALIGN=CENTER>47</TD>
                    <TD>&nbsp;<FONT COLOR=#CC0000>war schon</FONT></TD>
                    <TD ALIGN=CENTER>1/8</TD>
                    <TD>2015-01-14 09:07:46</TD>
                    <TD>2 Tage, 13:22:28</TD>
                    <TD><A HREF=kickplayer.php?GID=78483&UID=210>Kicken</A></TD>
                    <TD><A HREF=beplayer.php?GID=78483&UID=210>BE!</A></TD>
                </TR>
                <TR>
                    <TD BGCOLOR=#F7C9A3>&nbsp</TD>
                    <TD>Madeleine</TD>
                    <TD ALIGN=CENTER>46</TD>
                    <TD>&nbsp;<FONT COLOR=#00CC00>kommt noch</FONT></TD>
                    <TD ALIGN=CENTER>1/8</TD>
                    <TD>2015-01-02 17:11:15</TD>
                    <TD>30 Tage, 06:23:45</TD>
                    <TD><A HREF=kickplayer.php?GID=78483&UID=563>Kicken</A></TD>
                    <TD><A HREF=beplayer.php?GID=78483&UID=563>BE!</A></TD>
                </TR>
                <TR>
                    <TD BGCOLOR=#000066>&nbsp</TD>
                    <TD>Michael</TD>
                    <TD ALIGN=CENTER>46</TD>
                    <TD>&nbsp;<FONT COLOR=#00CC00>kommt noch</FONT></TD>
                    <TD ALIGN=CENTER>1/8</TD>
                    <TD>2015-01-13 10:23:23</TD>
                    <TD>91 Tage, 15:15:45</TD>
                    <TD><A HREF=kickplayer.php?GID=78483&UID=2411>Kicken</A></TD>
                    <TD><A HREF=beplayer.php?GID=78483&UID=2411>BE!</A></TD>
                </TR>
                <TR>
                    <TD BGCOLOR=#FF6600>&nbsp</TD>
                    <TD>mr-burns123</TD>
                    <TD ALIGN=CENTER>47</TD>
                    <TD>&nbsp;<FONT COLOR=#CC0000>war schon</FONT></TD>
                    <TD ALIGN=CENTER>1/8</TD>
                    <TD>2015-01-13 19:00:30</TD>
                    <TD>10 Tage, 14:37:12</TD>
                    <TD><A HREF=kickplayer.php?GID=78483&UID=2265>Kicken</A></TD>
                    <TD><A HREF=beplayer.php?GID=78483&UID=2265>BE!</A></TD>
                </TR>
                <TR>
                    <TD BGCOLOR=#99FF33>&nbsp</TD>
                    <TD>MrMM</TD>
                    <TD ALIGN=CENTER>31</TD>
                    <TD>&nbsp;ausgestiegen</TD>
                    <TD ALIGN=CENTER>0/8</TD>
                    <TD>2014-10-14 21:22:27</TD>
                    <TD>150 Tage, 03:19:57</TD>
                    <TD><A HREF=kickplayer.php?GID=78483&UID=2118>Kicken</A></TD>
                    <TD><A HREF=beplayer.php?GID=78483&UID=2118>BE!</A></TD>
                </TR>
                <TR>
                    <TD BGCOLOR=#63B8FF>&nbsp</TD>
                    <TD>recke</TD>
                    <TD ALIGN=CENTER>47</TD>
                    <TD>&nbsp;<FONT COLOR=#CC0000>war schon</FONT></TD>
                    <TD ALIGN=CENTER>1/8</TD>
                    <TD>2015-01-14 06:13:56</TD>
                    <TD>10 Tage, 01:18:14</TD>
                    <TD><A HREF=kickplayer.php?GID=78483&UID=1989>Kicken</A></TD>
                    <TD><A HREF=beplayer.php?GID=78483&UID=1989>BE!</A></TD>
                </TR>
                <TR>
                    <TD BGCOLOR=#FFFFCC>&nbsp</TD>
                    <TD>Schattenparker</TD>
                    <TD ALIGN=CENTER>22</TD>
                    <TD>&nbsp;ausgestiegen</TD>
                    <TD ALIGN=CENTER>0/8</TD>
                    <TD>2014-03-17 16:08:37</TD>
                    <TD>13 Tage, 19:12:02</TD>
                    <TD><A HREF=kickplayer.php?GID=78483&UID=2486>Kicken</A></TD>
                    <TD><A HREF=beplayer.php?GID=78483&UID=2486>BE!</A></TD>
                </TR>
                <TR>
                    <TD BGCOLOR=#006600>&nbsp</TD>
                    <TD>Stickerle</TD>
                    <TD ALIGN=CENTER>47 + 2 Crash</TD>
                    <TD>&nbsp;<FONT COLOR=#CC0000>war schon</FONT></TD>
                    <TD ALIGN=CENTER>1/8</TD>
                    <TD>2015-01-14 09:10:17</TD>
                    <TD>5 Tage, 17:13:46</TD>
                    <TD><A HREF=kickplayer.php?GID=78483&UID=2270>Kicken</A></TD>
                    <TD><A HREF=beplayer.php?GID=78483&UID=2270>BE!</A></TD>
                </TR>
            </tbody>
        </TABLE>
        <FORM>
            Link zur <A HREF=logs/78483.log>Logdatei</A>
        </FORM>
        <BR>
        <FONT SIZE=+2 COLOR=RED>Support Karopapier!!!!!</FONT>Nein, ich will mit Karopapier nicht Geld verdienen - wenn Ihr trotzdem an mich denken w&uuml;rdet, w&auml;re ich Euch zu tiefst verbunden. Einfach vor jedem Kauf/Besuch bei Amazon &uuml;ber
        <A HREF=http://www.karopapier.de/support.php>Support Karopapier</A> dort hingehen und schon ist Didi fr&ouml;hlicher...
        <IMG SRC="http://webcounter.goweb.de/7886.GIF" WIDTH=1 HEIGHT=1>


        <script type="text/javascript">

            $('#tabspielinfo').tablesorter();


            var accesskeys = {
                '-1-1': 'q',
                '-10': 'a',
                '-11': 'y',
                '0-1': 'w',
                '00': 's',
                '01': 'x',
                '1-1': 'e',
                '10': 'd',
                '11': 'c'
            }

            $('area').each(function (i, e) {
                var rel = $(e).attr('rel');
                if (rel) {
                    //console.log(rel);
                    if (accesskeys[rel]) {
                        //console.log(accesskeys[rel]);
                        var title = $(e).attr('title');
                        $(e).attr('title', title + '   [' + accesskeys[rel] + ']');
                        $(e).attr('accesskey', accesskeys[rel]);
                    }
                }
            });

            //? RUNDENERSTER ?
            if (($('h1').text().indexOf('ยง') >= 0) || ($('h1').text().indexOf('$') >= 0)) {
                var wars = $('#tabspielinfo td:contains("war schon")');
                if (wars.length == 0) {
                    //alert("Es koennte sich hier um ein 'Rundenerster wiederholt'-Spiel handeln - und ich glaube DUUUU bist gerade Rundenerster!!");
                    $('#mapImage').css('border', '10px solid blue');
                }
            }

            var GameId;
            GameId = 83974;
            GameId = 78483;
            GameId = 73361;
            var MapId = 96;

            var voteurl = "http://www.karopapier.de/api/map/" + MapId + "/vote.json";
            function initStarvote() {
                $.getJSON(voteurl + "?callback=?", function (data) {
                    $('#mapvote').trigger("newdata", data);
                });
            }
            ;

            $(document).ready(function () {

                $('#mapvote').bind("newdata", function (e, data) {
                    //console.log(data);
                    var mv = new StarVote($('#mapvote'), {
                        "picPath": "http://www.karopapier.de/images/starvote"
                    });
                    mv.setValue(data.myvote);
                    mv.setGlobalValue(data.avg);
                });

                $('#mapvote').bind("voted", function (e, vote) {
                    //console.log(vote);
                    $.ajax({
                        url: voteurl,
                        data: "vote=" + vote,
                        type: 'POST',
                        xhrFields: {
                            withCredentials: true
                        },
                        success: function (data) {
                            //console.log("gut",data);
                            $('#mapvote').trigger("newdata", data);
                        },
                        error: function (data) {
                            //console.log("bad",data);
                        },
                        dataType: "json"
                    });
                })

                initStarvote();
            });

        </script>

        <script type="text/javascript">
            $(document).ready(function () {
                changeMap(96);
            });

            function getMap(mapid, cb) {
                var rows = 0;
                var cols = 0;
                var path = "";

                var amifinished = function () {
                    //console.log("check if finished");
                    if (rows != 0 && cols != 0 && path != "") {
                        var m = {};
                        m.r = rows;
                        m.c = cols;
                        m.p = LZString.compress(path);
                        store.set("map" + mapid, m);
                        cb(m);
                    } else {
                        //console.errorlog("Fehlt noch was");
                    }
                };

                var i = store.get("map" + mapid);
                if (i) {
                    //console.log ("I from store",i);
                    cb(i);
                } else {
                    myget("/paths/" + mapid + ".svg", function (data) {
                        //console.log(data);
                        path = data;
                        amifinished();
                    });
                    $.getJSON("http://www.karopapier.de/api/map/" + mapid + ".json?callback=?", function (data) {
                        //console.log(data);
                        rows = data.rows;
                        cols = data.cols;
                        amifinished();
                    });
                }
            }

            function changeMap(mapid) {

                getMap(mapid, function (map) {
                    //console.log("Ich hab ne Karte",map);
                    var parser = new DOMParser();
                    var path = map.p;
                    if (path.charAt(0) != "<") {
                        path = LZString.decompress(path);
                    }
                    var doc = parser.parseFromString(path, "image/svg+xml");
                    //console.log(doc);
                    //console.log(document.getElementById("map").firstChild);
                    var mapNode = document.getElementById("map");
                    //console.log(mapNode);
                    while (mapNode.childNodes.length > 0) {
                        var f = mapNode.firstChild;
                        mapNode.removeChild(f);
                    }
                    //console.log("Jetzt einfug");
                    document.getElementById("map").appendChild(document.importNode(doc.getElementsByTagName("svg")[0], true));
                    //console.log("Gefugt");
                    //$('#map').html(map.path);
                    //$('#map').append(doc);
                    //$(doc).appendTo($('#map'));
                    document.getElementById('mapSvgView').setAttribute("viewBox", "0 0 " + (map.c * 12) + " " + (map.r * 12));


                    //funky scal calc
                    //take width for granted and adjust height to certain max height, then start using transform
                    //maxzoom = 3;


                    //alert(document.getElementById('mapSvgView').currentScale);
                });
            }

            function myget(url, cb) {
                var request = new XMLHttpRequest();
                request.open('GET', url, true);

                request.onload = function () {
                    if (request.status >= 200 && request.status < 400) {
                        // Success!
                        resp = request.responseText;
                        cb(resp);
                    } else {
                        // We reached our target server, but it returned an error
                    }
                };

                request.onerror = function () {
                    // There was a connection error of some sort
                };

                request.send();
            }

            function loadSvgToId(url, id) {
                myget(url, function (text) {
                    //console.log("HIER mit url",url);
                    var parser = new DOMParser();
                    var doc = parser.parseFromString(text, "image/svg+xml");
                    //console.log("Doc",doc);
                    document.getElementById(id).appendChild(document.importNode(doc.getElementsByTagName(id)[0], true));
                });
            }
            ;

        </script>

        <HR WIDTH=75%>
        <br />
        Letzter Satz im <a href="realchatframe.php">Chat</a>:<br />
        <B>Madeleine</B> (13:58): Oder Autokorrektur hat ihr dazwischengefunkt <BR><br />

        <script src="/js/GameStepUp.js"></script>

        <script>
            if (!/karopapier/.test(window.location.hostname)) {
                document.write('<scr' + 'ipt src="http://localhost:35729/livereload.js"></scr' + 'ipt>');
            }
        </script>
    </BODY>
</HTML>
